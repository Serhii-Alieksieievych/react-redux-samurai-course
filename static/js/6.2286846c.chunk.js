(this.webpackJsonpvsmitniku=this.webpackJsonpvsmitniku||[]).push([[6],{191:function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o}));var a=s(2),n=(s(0),s(18)),r=s(3),c=s(1),i=function(e){return Object(n.b)((function(e){return{userId:e.auth.id}}))((function(t){return t.userId?Object(c.jsx)(e,Object(a.a)({},t)):Object(c.jsx)(r.a,{replace:!0,to:"/../login"})}))},o=function(e){return Object(n.b)((function(e){return{userId:e.auth.id}}))((function(t){return t.userId?Object(c.jsx)(r.a,{replace:!0,to:"/../profile/me"}):Object(c.jsx)(e,Object(a.a)({},t))}))}},192:function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var a=s(2),n=s(193),r=(s(0),s(195)),c=s.n(r),i=s(1),o=["input","meta"],u=function(e){var t=e.input,s=e.meta,r=Object(n.a)(e,o),u=s.error&&s.touched;return Object(i.jsxs)("div",{className:"".concat(c.a.textareaWrapper," ").concat(u&&c.a.error),children:[t.type?Object(i.jsx)(g,Object(a.a)(Object(a.a)({},t),r)):Object(i.jsx)(j,Object(a.a)(Object(a.a)({},t),r)),Object(i.jsx)("div",{children:u&&Object(i.jsx)("span",{children:s.error})})]})},j=function(e){return Object(i.jsx)("textarea",Object(a.a)(Object(a.a)({},e),{},{className:c.a.textarea}))},g=function(e){return Object(i.jsx)("input",Object(a.a)(Object(a.a)({},e),{},{className:c.a.input}))}},194:function(e,t,s){"use strict";s.d(t,"b",(function(){return a})),s.d(t,"a",(function(){return n}));var a=function(e){return e?void 0:"Field is required"},n=function(e){return function(t){if(t)return t.length<=e?void 0:"Max lenhgth is ".concat(e)}}},195:function(e,t,s){e.exports={error:"CustomForms_error__1i_LA",textarea:"CustomForms_textarea__24t2G",input:"CustomForms_input__2n7gA"}},203:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__2xRSA",messages:"Dialogs_messages__1w_Up",dialogsItems:"Dialogs_dialogsItems__2sNe2",form:"Dialogs_form__1EQXf"}},218:function(e,t,s){e.exports={dialogItem:"DialogItem_dialogItem__2RuWv"}},219:function(e,t,s){e.exports={message:"Message_message__1MOXo",myMessage:"Message_myMessage__6CULW",notMyMessage:"Message_notMyMessage__2x8C6",viewed:"Message_viewed__3WLTb"}},279:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(47),r=s(218),c=s.n(r),i=s(1),o=function(e){var t=e.dialog,s=e.refreshMessages;return Object(i.jsx)("div",{className:c.a.dialogItem,onClick:function(){s(t)},children:t.userName})},u=s(219),j=s.n(u),g=function(e){var t=e.message;return Object(i.jsxs)("div",{className:"".concat(j.a.message," ").concat(t.userId?j.a.myMessage:j.a.notMyMessage),children:["\u0422\u0435\u043a\u0441\u0442: ",t.body,Object(i.jsx)("br",{}),"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",t.addedAt]})},d=s(203),l=s.n(d),m=s(278),b=s(276),f=s(192),O=s(194),x=Object(O.a)(500),_=Object(b.a)({form:"dialog"})((function(e){var t=e.handleSubmit;return Object(i.jsxs)("form",{onSubmit:t,className:l.a.form,children:[Object(i.jsx)(m.a,{component:f.a,placeholder:"message",name:"message",validate:[x]}),Object(i.jsx)("button",{children:"\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f"})]})})),h=function(e){var t=e.sendMessage,s=e.dialogs,n=e.messages,r=e.refreshDialogs,c=e.refreshMessages,u=e.currentDialog;return Object(a.useEffect)((function(){r()}),[]),Object(i.jsxs)("div",{className:l.a.dialogs,children:[Object(i.jsx)("div",{className:l.a.dialogsItems,children:s.map((function(e){return Object(i.jsx)(o,{dialog:e,refreshMessages:c},e.id)}))}),Object(i.jsxs)("div",{className:l.a.messages,children:[Object(i.jsx)("img",{src:u.photos.small&&u.photos.small,alt:"avatar"}),Object(i.jsxs)("h3",{children:["Name: ",u.userName]}),Object(i.jsxs)("p",{children:["Last user's activity date: ",u.lastUserActivityDate]}),n.items.map((function(e){return Object(i.jsx)(g,{message:e},e.id)}))]}),Object(i.jsx)(_,{onSubmit:function(e){t([u,e.message]),e.message=""}})]})},p=s(18),v=s(191),M=s(24),N=function(e){return e.dialogsPage.messages},I=function(e){return e.dialogsPage.dialogs},D=function(e){return e.dialogsPage.currentMessage};t.default=Object(M.d)(Object(p.b)((function(e){return{messages:N(e),dialogs:I(e),currentMessage:D(e),currentDialog:e.dialogsPage.currentDialog}}),(function(e){return{sendMessage:function(t){e(Object(n.e)(t))},changeMessage:function(t){e(Object(n.a)(t))},refreshDialogs:function(){e(Object(n.c)())},refreshMessages:function(t){e(Object(n.d)(t))}}})),v.a)(h)}}]);
//# sourceMappingURL=6.2286846c.chunk.js.map