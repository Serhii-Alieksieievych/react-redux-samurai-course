{"version":3,"sources":["api/api.js","Redux/auth-reducer.js","reportWebVitals.js","Redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","App.js","index.js","components/Header/Header.module.css","Redux/profile-reducer.js","Redux/users-reducer.js","Redux/dialogs-reducer.js","assets/img/Opossums.jpg","components/Navbar/Navbar.module.css"],"names":["instance","axios","create","withCredentials","baseURL","headers","UsersAPI","getUsers","currentPage","pageSize","get","then","response","data","FollowAPI","followAxios","user","post","id","unfollowAxios","delete","ProfileAPI","getProfileData","userId","resp","getStatus","updateStatus","status","put","AuthAPI","login","input","password","rememberMe","capcha","email","logoutAxios","getAuthStatus","SET_AUTH","SET_SMALL_AVATAR","TOGGLE_IS_FETCHING","LOGIN","LOGOUT","RESET_AUTH","loginTC","formData","dispatch","a","resultCode","type","stopSubmit","_error","messages","checkAutorization","logoutTC","resetAuthUserData","isLogged","setAuthUserData","setSmallAvatar","smallAvatarSRC","toggleIsFetching","isFetching","photos","small","initialState","profileReducer","state","action","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","profilePage","dialogsPage","dialogsReducer","usersPage","usersReducer","auth","authReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","className","classes","header","src","alt","preloader","ava","userPhoto","onClick","to","HeaderContainer","this","props","React","Component","connect","Navbar","nav","item","link","News","Music","Settings","DialogsContainer","lazy","ProfileContainer","UsersContainer","Login","navigate","useNavigate","useState","isRedirectedToLogin","setIsRedirectedToLogin","isInicialized","setIsInicialized","useEffect","fallback","path","element","ReactDOM","render","StrictMode","document","getElementById","module","exports","UPDATE_NEW_POST_TEXT","ADD_POST","SET_PROFILE_INFO","SET_STATUS","setStatus","addPostActionCreator","payload","changePostActionCreator","text","newText","setProfile","profileInfo","currentPostArea","postsArr","message","likesCount","newPost","length","FOLLOW","UNFOLLOW","SET_STATE","SET_CURRENT_PAGE","TOGGLE_FETCHING_STATUS","TOGGLE_FOLLOWING_STATUS","setState","users","totalCount","setCurrentPage","page","toggleFollowingStatus","items","followTC","unfollowTC","haveFollowingInProgress","map","followed","some","filter","SEND_MESSAGE","CHANGE_NEW_MESSAGE","sendMessageActionCreator","changeNewMessageActionCreator","dialogsArr","name","currentMessage","messagesArr","newMessage"],"mappings":"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","file":"static/js/main.e4ddbbb2.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\n    headers: {\n        'API-KEY': '2684d674-512e-42f2-86c1-036ed91abbce'\n    }\n})\n\nexport const UsersAPI = {\n    getUsers(currentPage = 1, pageSize = 12) {\n        return instance.get(\n            `users?page=${currentPage}&count=${pageSize}`,\n        ).then(response => response.data)\n    },\n}\n\nexport const FollowAPI = {\n    followAxios(user) {\n        return instance.post(\n            `follow/${user.id}`,\n            {},\n        ).then(response => response.data)\n    },\n\n    unfollowAxios(user) {\n        return instance.delete(\n            `follow/${user.id}`,\n        ).then(response => response.data)\n    }\n}\n\nexport const ProfileAPI = {\n    getProfileData(userId) {\n        userId = userId ? userId : 2\n        return (\n            instance.get(`/profile/${userId}`).then(resp => resp.data)\n        )\n    },\n    getStatus(userId) {\n        return (\n            instance.get(`/profile/status/${userId}`).then(resp => resp.data)\n        )\n    },\n    updateStatus(status) {\n        return (\n            instance.put(`/profile/status`, {\n                status: status,\n            }).then(resp => resp.data)\n        )\n    }\n}\n\nexport const AuthAPI = {\n    login({ input, password, rememberMe, capcha }) {\n        return instance.post(\n            `/auth/login`,\n            {\n                email: input,\n                password: password,\n                rememberMe: rememberMe\n            },\n        )\n    },\n\n    logoutAxios() {\n        return instance.delete(\n            `/auth/login`,\n        ).then(response => response.data)\n    },\n\n    getAuthStatus() {\n        return (\n            axios.get(`https://social-network.samuraijs.com/api/1.0/auth/me`, {\n                withCredentials: true\n            }).then(resp => resp.data)\n        )\n    }\n}\n","import { stopSubmit } from \"redux-form\";\nimport { AuthAPI, ProfileAPI } from \"../api/api\";\n\nconst SET_AUTH = 'SET_AUTH';\nconst SET_SMALL_AVATAR = 'SET_SMALL_AVATAR';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst LOGIN = 'LOGIN';\nconst LOGOUT = 'LOGOUT';\nconst RESET_AUTH = \"RESET_AUTH\";\n\nexport const login = (userId) => ({type: LOGIN, userId})\nexport const logout = () => ({ type: LOGOUT })\n\nexport const loginTC = formData => async dispatch => {\n    const response = await AuthAPI.login(formData)\n    if (response.data.resultCode === 0) {\n        dispatch(login(response.data.data.userId))\n        const data = await response.data;\n    }\n    else {\n        dispatch(stopSubmit(\"login\", {_error: response.data.messages[0]}))\n    }\n    dispatch(checkAutorization())\n}\n\nexport const logoutTC = () => async dispatch => {\n    const data = await AuthAPI.logoutAxios()\n    dispatch(resetAuthUserData())\n}\n\nconst resetAuthUserData = () => ({\n    type: RESET_AUTH,\n    data: {\n        isLogged: null,\n        id: null,\n        email: null,\n        login: null,\n    }})\n\nexport const setAuthUserData = (isLogged, id, email, login) => ( \n    {   \n        type: SET_AUTH,\n        data: {\n            isLogged,\n            id,\n            email,\n            login\n        }\n    }\n)\n\nexport const setSmallAvatar = (smallAvatarSRC) => (\n    {\n        type: SET_SMALL_AVATAR,\n        data: {\n            smallAvatarSRC,\n        }\n    }\n)\n\nexport const toggleIsFetching = (isFetching) => (\n    {\n        type: TOGGLE_IS_FETCHING,\n        data: {\n            isFetching,\n        }\n    }\n)\n\nexport const checkAutorization = () => (dispatch) => {\n    return AuthAPI.getAuthStatus().then(data => {\n        const isLogged = data.resultCode === 0 ? true : false;\n        const { id, login, email } = data.data;\n        if (isLogged) dispatch(setAuthUserData(isLogged, id, email, login))\n        return id;\n    }).then(id => {\n        ProfileAPI.getProfileData(id).then(data => {\n            dispatch(setSmallAvatar(data.photos.small))\n            dispatch(toggleIsFetching(false))\n        })\n    })\n}\n\nconst initialState = {\n    id: null,\n    email: null,\n    login: null,\n    smallAvatarSRC: null,\n    isLogged: false,\n    isFetching: false,\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_AUTH:\n            return {...state, ...action.data};\n        case RESET_AUTH:\n            return { ...state, ...action.data };\n        case TOGGLE_IS_FETCHING:\n            return {...state, ...action.data}\n        case SET_SMALL_AVATAR:\n            return { ...state, ...action.data };\n        case LOGIN:\n            return { ...state, userId: action.userId }\n        case LOGOUT:\n            return { ...state, userId: null }\n        default:\n            return state;\n    }\n}\n\nexport default profileReducer;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\nimport profileReducer from './profile-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport usersReducer from './users-reducer';\nimport authReducer from './auth-reducer';\nimport { reducer as formReducer } from 'redux-form';\nimport thunkMiddleware from 'redux-thunk';\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n})\n\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\nexport default store;","import React from \"react\";\nimport classes from './Header.module.css';\nimport userPhoto from \"../../assets/img/Opossums.jpg\";\nimport { Grid } from 'svg-loaders-react';\nimport { Link } from \"react-router-dom\";\n\nconst Header = ({ email, id, smallAvatarSRC, isFetching, logoutTC }) => {\n    return (\n        <header className={classes.header}>\n            <img src=\"https://key0.cc/images/preview/83810_9affe954e1ae5d956f374d1a3526e6fc.png\" alt=\"logo\" className=\"logo\" />\n            {isFetching ? <Grid className={classes.preloader} /> : id\n                ? <div>\n                    {smallAvatarSRC\n                        ? <img src={smallAvatarSRC} alt=\"small_avatar\" className={classes.ava} />\n                        : <img src={userPhoto} alt=\"small_avatar\" className={classes.ava} />}\n                    {email} You are logged {id}\n                    <button onClick={() => { logoutTC() }}>Log out</button>\n                </div>\n                : <Link to=\"login\">Log in</Link>}\n        </header>\n    )\n}\n\nexport default Header;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n    setAuthUserData,\n    setSmallAvatar,\n    toggleIsFetching,\n    logoutTC,\n} from \"../../Redux/auth-reducer\";\nimport Header from \"./Header\";\nimport { checkAutorization } from \"../../Redux/auth-reducer\";\n\n\nclass HeaderContainer extends React.Component{\n    componentDidMount(){\n        this.props.toggleIsFetching(true)\n        this.props.checkAutorization()\n    }\n    render(){\n        return(\n            <Header {...this.props}/>\n        )\n    }\n}\nconst mapStateToProps = (state) => (\n    {...state.auth}\n)\n    \n\nexport default connect(mapStateToProps,\n    {\n        setAuthUserData,\n        setSmallAvatar,\n        toggleIsFetching,\n        checkAutorization,\n        logoutTC,\n    }\n)(HeaderContainer);","import React from \"react\";\nimport classes from \"./Navbar.module.css\";\nimport { Link } from \"react-router-dom\";\n\nconst Navbar = () => {\n    return (\n        <nav className={classes.nav}>\n            <div className={classes.item}>\n                <Link\n                    to=\"profile/me\"\n                    className={classes.link}\n                >\n                    Profile\n                </Link>\n            </div>\n            <div className={classes.item}>\n                <Link\n                    to=\"dialogs\"\n                    className={classes.link}\n                >\n                    Dialogs\n                </Link>\n            </div>\n            <div className={classes.item}>\n                <Link\n                    to=\"news\"\n                    className={classes.link}\n                >\n                    News\n                </Link>\n            </div>\n            <div className={classes.item}>\n                <Link\n                    to=\"music\"\n                    className={classes.link}\n                >\n                    Music\n                </Link>\n            </div>\n            <div className={classes.item}>\n                <Link\n                    to=\"users\"\n                    className={classes.link}\n                >\n                    Users\n                </Link>\n            </div>\n            <div className={classes.item}>\n                <Link\n                    to=\"settings\"\n                    className={classes.link}\n                >\n                    Settings\n                </Link>\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar;","import React from \"react\";\nimport classes from './News.module.css';\n\nconst News = () => {\n    return (\n        <div>\n            News\n        </div>\n    )\n}\n\nexport default News;","import React from \"react\";\nimport classes from './Music.module.css';\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    )\n}\n\nexport default Music;","import React from \"react\";\nimport classes from './Settings.module.css';\n\nconst Settings = () => {\n    return (\n        <div>\n            Settings\n        </div>\n    )\n}\n\nexport default Settings;","import React, { Suspense, lazy } from 'react';\nimport { Routes, Route, useNavigate } from 'react-router-dom';\n\nimport './App.css';\n\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport { useEffect } from 'react';\nimport { useState } from 'react';\nimport { Grid } from 'svg-loaders-react';\nimport { checkAutorization } from './Redux/auth-reducer';\nimport { connect } from 'react-redux';\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = lazy(() => import('./components/Profile/ProfileContainer'));\nconst UsersContainer = lazy(() => import('./components/Users/UsersContainer'));\nconst Login = lazy(() => import('./components/Login/Login'));\n\nconst App = ({ checkAutorization, userId }) => {\n  const navigate = useNavigate();\n  const [isRedirectedToLogin, setIsRedirectedToLogin] = useState(false);\n  const [isInicialized, setIsInicialized] = useState(false)\n  useEffect(() => {\n    checkAutorization().then(() => {\n      setIsInicialized(true)\n    })\n  }, [userId])\n  if (!isInicialized) return <div className=\"appPreloader\" ><Grid /></div>\n  if (isInicialized && !userId && !isRedirectedToLogin) {\n    setIsRedirectedToLogin(true)\n    navigate(\"/login\")\n  }\n  return (\n    <div className=\"app-wrapper\">\n      <HeaderContainer />\n      <Navbar />\n      <div className=\"app-wrapper-content\">\n        <Suspense fallback={<Grid />}>\n        <Routes>\n          <Route\n            path=\"profile\"\n          >\n            <Route\n              path=\":userId\"\n              element={\n                <ProfileContainer />\n              }\n            />\n            <Route\n              path=\"me\"\n              element={\n                <ProfileContainer />\n              }\n            />\n          </Route>\n            <Route\n              path=\"/dialogs\"\n              element={\n                <DialogsContainer />\n              }\n            />\n          <Route\n            path=\"/users\"\n            element={\n              <UsersContainer />\n            }\n          />\n          <Route path=\"/news\" element={<News />} />\n          <Route path=\"/music\" element={<Music />} />\n          <Route path=\"/settings\" element={<Settings />} />\n          <Route path=\"/login\" element={<Login />} />\n        </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  userId: state.auth.id,\n})\n\nexport default connect(mapStateToProps, { checkAutorization })(App);\n","import './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport store from './Redux/redux-store';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n    <React.StrictMode>\n      <BrowserRouter>\n        <Provider store={store}>\n          <App />\n        </Provider>\n      </BrowserRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);      \n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"preloader\":\"Header_preloader__2pZ6N\",\"ava\":\"Header_ava__1jVPU\"};","import { ProfileAPI } from \"../api/api\";\n\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST';\nconst ADD_POST = 'ADD-POST';\nconst SET_PROFILE_INFO = 'SET_PROFILE_INFO';\nconst SET_STATUS = 'SET_STATUS';\n\n\nexport const setStatus = (status) => ({type: SET_STATUS , status})\nexport const addPostActionCreator = (payload) => ({ type: \"ADD-POST\", payload })\nexport const changePostActionCreator = (text) => ({\n    type: UPDATE_NEW_POST_TEXT,\n    newText: text,\n})\nexport const setProfileInfo = (profileInfo) => ({type: SET_PROFILE_INFO, profileInfo})\n\nexport const setProfile = id => async dispatch =>{\n    const userId = id ? id : 21473;\n    const data = await ProfileAPI.getProfileData(userId)\n    dispatch(setProfileInfo(data))\n}\n\nexport const getStatus = id => async dispatch => {\n    const userId = id ? id : 21473;\n    const data = await ProfileAPI.getStatus(userId)\n        dispatch(setStatus(data))\n}\n\nexport const updateStatus = status => async dispatch => {\n    const data = await ProfileAPI.updateStatus(status)\n    if (!data.resultCode) {\n    dispatch(setStatus(status))\n    }\n}\n\n\nconst initialState = {\n    currentPostArea: '',\n    profileInfo: null,\n    status: '',\n    postsArr: [\n        { id: 1, message: `post-opost`, likesCount: 0 },\n        { id: 2, message: `post-pos`, likesCount: 0 },\n        { id: 3, message: `post-opos`, likesCount: 0 },\n    ],\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST:\n            let newPost = {\n                id: state.postsArr.length + 1,\n                message: action.payload,\n                likesCount: 0,\n            }\n            return {...state, postsArr: [...state.postsArr, newPost], currentPostArea: ''};\n        case UPDATE_NEW_POST_TEXT:\n            return {...state, currentPostArea: action.newText};\n        case SET_PROFILE_INFO:\n            return {...state, profileInfo: action.profileInfo};\n        case SET_STATUS:\n            return {...state, status: action.status};\n        default:\n            return state;\n    }\n}\n\nexport default profileReducer;","import { UsersAPI, FollowAPI } from \"../api/api\";\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_STATE = 'SET-STATE';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst TOGGLE_FETCHING_STATUS = 'TOGGLE_FETCHING_STATUS';\nconst TOGGLE_FOLLOWING_STATUS = 'TOGGLE_FOLLOWING_STATUS'\n\nexport const follow = (id) => ({ type: FOLLOW, id: id })\nexport const unfollow = (id) => ({ type: UNFOLLOW, id: id })\nexport const setState = (users, totalCount) => ({ type: SET_STATE, users, totalCount })\nexport const setCurrentPage = (page) => ({ type: SET_CURRENT_PAGE, currentPage: page })\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_FETCHING_STATUS, isFetching })\nexport const toggleFollowingStatus = (id) => ({ type: TOGGLE_FOLLOWING_STATUS, id })\n\nexport const getUsers = (currentPage = 1) => async (dispatch) => {\n    dispatch(toggleIsFetching(true))\n    dispatch(setCurrentPage(currentPage))\n    const data = await UsersAPI.getUsers(currentPage)\n    dispatch(toggleIsFetching(false))\n    dispatch(setState(data.items, data.totalCount))\n};\n\nexport const followTC = (user) => async (dispatch) => {\n    dispatch(toggleFollowingStatus(user.id))\n    const data = await FollowAPI.followAxios(user)\n    if (data.resultCode === 0) {\n        dispatch(follow(user.id))\n    }\n    dispatch(toggleFollowingStatus(user.id))\n}\n\nexport const unfollowTC = (user) => async (dispatch) => {\n    dispatch(toggleFollowingStatus(user.id))\n    const data = await FollowAPI.unfollowAxios(user)\n    if (data.resultCode === 0) {\n        dispatch(unfollow(user.id))\n    }\n    dispatch(toggleFollowingStatus(user.id))\n}\n\nconst initialState = {\n    users: [],\n    totalCount: 0,\n    pageSize: 12,\n    currentPage: 1,\n    isFetching: false,\n    haveFollowingInProgress: [],\n}\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state, users: state.users.map(user => {\n                    return user.id === action.id\n                        ? { ...user, followed: true }\n                        : { ...user };\n                })\n            };\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: state.users.map(user => {\n                    return user.id === action.id\n                        ? { ...user, followed: false }\n                        : { ...user };\n                })\n            };\n\n        case SET_STATE:\n            return { ...state, users: [...action.users], totalCount: action.totalCount };\n        case SET_CURRENT_PAGE:\n            return { ...state, currentPage: action.currentPage }\n        case TOGGLE_FETCHING_STATUS:\n            return { ...state, isFetching: action.isFetching }\n        case TOGGLE_FOLLOWING_STATUS:\n            return state.haveFollowingInProgress.some(id => id === action.id)\n                ? { ...state, haveFollowingInProgress: state.haveFollowingInProgress.filter(id => id !== action.id) }\n                : { ...state, haveFollowingInProgress: [...state.haveFollowingInProgress, action.id] }\n        default:\n            return state;\n    }\n}\n\nexport default usersReducer;","const SEND_MESSAGE = 'SEND-MESSAGE';\nconst CHANGE_NEW_MESSAGE = 'CHANGE-NEW-MESSAGE';\n\nexport const sendMessageActionCreator = (payload) => ({ type: SEND_MESSAGE, payload })\nexport const changeNewMessageActionCreator = (text) => {\n    return ({\n        type: CHANGE_NEW_MESSAGE,\n        text: text,\n    })\n}\nconst initialState = {\n    dialogsArr: [\n        { id: 1, name: 'Oppos' },\n        { id: 2, name: 'Kotossum' },\n        { id: 3, name: 'Huhol' },\n    ],\n\n    currentMessage: '',\n    messagesArr: [\n        { id: 1, userId: 0, message: 'Hi' },\n        { id: 2, userId: 1, message: 'Sam hi' },\n        { id: 3, userId: 0, message: 'Net ti hi' },\n        { id: 4, userId: 1, message: 'Nihuja, ti hi' },\n        { id: 5, userId: 0, message: 'Ta ne, tochno ti hi' },\n    ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SEND_MESSAGE:\n            let newMessage = {\n                id: state.messagesArr.length + 1,\n                userId: 0,\n                message: action.payload,\n            };\n            return { ...state, messagesArr: [...state.messagesArr, newMessage], currentMessage:''};\n        case CHANGE_NEW_MESSAGE:\n            return {...state, currentMessage: action.text};\n        default: \n            return state;\n    }\n}\n\nexport default dialogsReducer;","export default __webpack_public_path__ + \"static/media/Opossums.160979c6.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"link\":\"Navbar_link__TNvz9\",\"activeLink\":\"Navbar_activeLink__3etBE\"};"],"sourceRoot":""}