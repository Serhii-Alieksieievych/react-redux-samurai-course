{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/common/CustomForms/CustomForms.jsx","components/common/CustomForms/CustomForms.module.css","utils/validators/validator.js","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Posts/Post.module.css","components/Profile/Profile.module.css","components/Profile/MyPosts/Posts/Post.jsx","components/Profile/MyPosts/PostForm/PostForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","Redux/profile-selectors.js","components/Profile/ProfileContainer.jsx"],"names":["withAuthRedirect","Component","connect","state","userId","auth","id","props","replace","to","withBackAuthRedirect","CustomField","input","meta","hasError","error","touched","className","classes","textareaWrapper","type","Input","Textarea","textarea","module","exports","requiredField","value","undefined","maxLengthCreator","maxLength","length","Post","message","likesCount","item","src","alt","avatar","postMessage","maxLengthValidate","PostReduxForm","reduxForm","form","handleSubmit","onSubmit","Field","name","component","placeholder","validate","MyPosts","addPost","posts","formData","post","map","MyPostsContainer","profilePage","postsArr","newpost","currentPostArea","dispatch","changePost","text","changePostActionCreator","addPostActionCreator","ProfileStatus","status","updateStatus","useState","editMode","setEditMode","localStatus","setLocalStatus","useEffect","autoFocus","onBlur","onChange","e","target","onDoubleClick","ProfileInfo","profileInfo","photos","fullName","contacts","avatarImg","large","href","twitter","Profile","content","getProfileInfoSelector","getStatusSelector","ProfileContainer","this","params","setProfile","getStatus","style","display","alignItems","justifyContent","height","React","compose","WrappedComponent","useParams"],"mappings":"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","file":"static/js/4.7e66a9d1.chunk.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nexport const withAuthRedirect = (Component) => {\n    const mapStateToProps = (state) => ({\n        userId: state.auth.id,\n    })\n\n    return connect(mapStateToProps)((props) => {\n        if (!props.userId) return <Navigate replace to=\"/../login\" />\n        return <Component {...props} />\n    })\n}\n\nexport const withBackAuthRedirect = (Component) => {\n    const mapStateToProps = (state) => ({\n        userId: state.auth.id,\n    })\n\n    return connect(mapStateToProps)((props) => {\n        if (props.userId) return <Navigate replace to=\"/../profile/me\" />\n        return <Component {...props} />\n    })\n}","import React from \"react\";\nimport classes from \"./CustomForms.module.css\";\n\nexport const CustomField = ({ input, meta, ...props }) => {\n    const hasError = meta.error && meta.touched\n    return (\n        <div className={`${classes.textareaWrapper} ${hasError && classes.error}`}>\n            {props.type\n                ? <Input {...input} {...props} />\n                : <Textarea  {...input} {...props} />\n            }\n            <div>{hasError && <span>{meta.error}</span>}</div>\n        </div>\n    )\n}\n\nconst Textarea = (props) => (\n    <textarea {...props} className={classes.textarea}></textarea>\n)\n\nconst Input = (props) => (\n    <input {...props} className={classes.input}/>\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"CustomForms_error__1i_LA\",\"textarea\":\"CustomForms_textarea__24t2G\",\"input\":\"CustomForms_input__2n7gA\"};"," export const requiredField = value => {\n    return value ? undefined : \"Field is required\";\n}\n\nexport const maxLengthCreator = maxLength => value => {\n    if (value) return value.length <= maxLength ? undefined : `Max lenhgth is ${maxLength}`\n    return undefined\n}\n\nexport const minLengthCreator = minLength => value => {\n    if (value) return value.length >= minLength ? undefined : `Min lenhgth is ${minLength}`\n    return undefined\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatarImg\":\"ProfileInfo_avatarImg__2izmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1d730\",\"avatar\":\"Post_avatar__3qiak\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"decorationImg\":\"Profile_decorationImg__2jX0x\",\"avatarImg\":\"Profile_avatarImg__1wNG4\"};","import React from \"react\";\nimport classes from './Post.module.css';\n\nconst Post = (props) => {\n  const { message, likesCount } = props;\n  return (\n    <div className={classes.item}>\n      <img src=\"https://n1s2.hsmedia.ru/cd/53/e9/cd53e9c22b9ff0987a1d2727f3a3ee0d/728x485_1_f4e30c6a4f34e0d9b151f62a59f4cc9b@3504x2336_0xac120003_19816963821625299214.jpg\" alt=\"avatar\" className={classes.avatar} />\n      <p className={classes.postMessage}>{message}</p>\n      <div>Likes: {likesCount}</div>\n    </div>\n  )\n}\n\nexport default Post;","import React from \"react\";\nimport { reduxForm, Field } from \"redux-form\";\nimport { maxLengthCreator } from \"../../../../utils/validators/validator\";\nimport { CustomField } from \"../../../common/CustomForms/CustomForms\";\n\nconst maxLengthValidate = maxLengthCreator(2000)\n\nconst PostForm = ({handleSubmit}) => {\n    return (\n        <form onSubmit={handleSubmit}>\n            <Field\n                name=\"post\"\n                component={CustomField}\n                placeholder=\"New post\"\n                validate={ [maxLengthValidate] }\n            />\n            <button>Add post</button>\n        </form>\n    )\n}\n\nconst PostReduxForm = reduxForm({ form: 'post' })(PostForm)\n\nexport default PostReduxForm;","import React from \"react\";\nimport classes from './MyPosts.module.css';\nimport Post from \"./Posts/Post\";\nimport PostForm from \"./PostForm/PostForm\";\n\n\nconst MyPosts = ({ addPost, posts }) => {\n  return (\n    <div>\n      <PostForm onSubmit={(formData)=>{\n        addPost(formData.post)\n        formData.post = ''\n      }}/>\n      My posts\n      <div className={classes.posts}>\n        <h3>Posts</h3>\n        {posts.map(post => <Post\n          id={post.id}\n          key={post.id}\n          message={post.message}\n          likesCount={post.likesCount}\n        />)}\n      </div>\n    </div>\n  )\n}\n\nexport default MyPosts;","import { addPostActionCreator, changePostActionCreator } from \"../../../Redux/profile-reducer\";\nimport MyPosts from \"./MyPosts\";\nimport { connect } from \"react-redux\";\n\nconst mapStateToProps = (state) => ({\n  posts: state.profilePage.postsArr,\n  newpost: state.profilePage.currentPostArea,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  changePost: text => {\n    dispatch(changePostActionCreator(text))\n  },\n  addPost: (post) => {\n    dispatch(addPostActionCreator(post))\n    dispatch(changePostActionCreator(''))\n  }\n})\n\nconst MyPostsContainer = connect(mapStateToProps,mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer;","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport classes from './ProfileInfo.module.css';\n\nconst ProfileStatus = ({status, updateStatus}) => {\n  const [editMode, setEditMode] = useState(false);\n  const [localStatus, setLocalStatus] = useState(status);\n  useEffect(() => {\n    setLocalStatus(status)\n  }, [status])\n  \n\n  const activateEditMode = () => {\n    setEditMode(true)\n  }\n\n  const deactivateEditMode = () => {\n    setEditMode(false)\n    updateStatus(localStatus)\n  }\n\n  return (\n      <div>\n        {!editMode\n        ? <div>\n          <span onDoubleClick={activateEditMode}>\n            {status}\n          </span>\n        </div>\n        : <div>\n          <input\n            autoFocus\n            type=\"text\"\n            value={localStatus}\n            onBlur={deactivateEditMode}\n            onChange={(e) => {\n              setLocalStatus(e.target.value)\n            }}\n          />\n        </div>\n        }\n      </div>\n  )\n}\n\nexport default ProfileStatus;","import React from \"react\";\nimport classes from './ProfileInfo.module.css';\nimport ProfileStatus from \"./ProfileStatus\";\n\nconst ProfileInfo = (props) => {\n  const { photos, fullName, contacts } = props.profileInfo;\n\n  return (\n    <div>\n      <img className={classes.avatarImg} src={photos.large} alt=\"ava\" />\n      <h2>{fullName}</h2>\n      <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\n      <div>\n        <h3>Контакты</h3>\n        <a href={contacts.twitter}>Twitter</a>\n      </div>\n    </div>    \n  )\n}\n\nexport default ProfileInfo;","import React from \"react\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport classes from './Profile.module.css';\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nconst Profile = (props) => {\n  return (\n      <main className={classes.content}>\n      {/*<div>\n        <img className={classes.decorationImg} src=\"https://kartinkin.net/uploads/posts/2021-07/1627170600_7-kartinkin-com-p-temnii-dlinnii-fon-krasivo-7.jpg\" alt=\"\" />\n      </div>*/}\n      <ProfileInfo\n        profileInfo={props.profileInfo}\n        updateStatus={props.updateStatus}\n        status={props.status}\n      />\n      <MyPostsContainer />\n      \n    </main>\n  )\n}\n\nexport default Profile;","export const getProfileInfoSelector = state => state.profilePage.profileInfo;\nexport const getStatusSelector = state => state.profilePage.status;","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport Profile from \"./Profile\";\nimport { Grid } from 'svg-loaders-react'\nimport { useParams } from \"react-router-dom\";\nimport { setProfile , getStatus, updateStatus } from \"../../Redux/profile-reducer\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\nimport { getProfileInfoSelector, getStatusSelector } from \"../../Redux/profile-selectors\";\n\nconst withRouter = WrappedComponent => props => {\n  const params = useParams();\n  // etc... other react-router-dom v6 hooks\n  return (\n    <WrappedComponent\n      {...props}\n      params={params}\n    // etc...\n    />\n  );\n};\n\n\nclass ProfileContainer extends React.Component {\n  componentDidMount(){\n    let {userId} = this.props.params;\n    this.props.setProfile(userId)\n    this.props.getStatus(userId)\n    } \n\n  render(){\n    return(\n      this.props.profileInfo\n        ? <Profile {...this.props} />\n        : <div\n            style={{\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              height: '90vh'\n            }}\n          >\n            <Grid />\n          </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  profileInfo: getProfileInfoSelector(state),\n  status: getStatusSelector(state),\n})\n\nexport default  compose(\n  withRouter,\n  withAuthRedirect,\n  connect(mapStateToProps, { setProfile, getStatus, updateStatus })\n)(ProfileContainer)"],"sourceRoot":""}