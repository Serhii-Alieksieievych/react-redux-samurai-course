{"version":3,"sources":["hoc/withAuthRedirect.jsx","assets/img/avatars/small_ava.jpg","components/Users/Users.module.css","components/common/Paginator/Paginator.module.css","components/Users/UserCard/UserCard.module.css","../node_modules/classnames/index.js","components/common/Paginator/Paginator.tsx","components/Users/UserCard/UserCard.tsx","components/Users/Users.tsx","../node_modules/reselect/es/defaultMemoize.js","../node_modules/reselect/es/index.js","Redux/users-selectors.ts","components/Users/UsersContainer.tsx"],"names":["withAuthRedirect","Component","connect","state","userId","auth","id","props","replace","to","withBackAuthRedirect","module","exports","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","Paginator","totalCount","pageSize","currentPage","getUsers","pagesCount","Math","ceil","pageSpans","partOfPageSpans","start","size","floor","end","className","paginatorWrapper","onClick","map","span","activePaginator","require","UserCard","user","haveFollowingInProgress","unfollow","follow","startNewDialogFromUsersPage","userCard","src","photos","small","avatar","alt","followed","disabled","some","btn","console","log","startDialogBtn","name","status","Users","users","usersWrapper","NOT_FOUND","defaultEqualityCheck","a","b","defaultMemoize","func","equalityCheckOrOptions","providedOptions","equalityCheck","_providedOptions$equa","_providedOptions$maxS","maxSize","resultEqualityCheck","comparator","prev","next","createCacheKeyComparator","cache","equals","entry","get","value","put","getEntries","clear","undefined","createSingletonCache","entries","cacheIndex","findIndex","splice","unshift","pop","createLruCache","memoized","matchingEntry","find","clearCache","getDependencies","funcs","dependencies","every","dep","dependencyTypes","Error","createSelectorCreator","memoize","_len","memoizeOptionsFromArgs","_key","createSelector","_len2","_key2","_lastResult","_recomputations","directlyPassedOptions","memoizeOptions","resultFunc","_directlyPassedOption","_directlyPassedOption2","finalMemoizeOptions","memoizedResultFunc","concat","selector","params","assign","lastResult","recomputations","resetRecomputations","getUsersByReselectorSelector","usersPage","filter","getTotalUsersCountSelector","getPageSizeSelector","getCurrentPageSelector","getIsFetchingSelector","isFetching","getHaveFollowingInProgressSelector","UsersAPIComponent","this","followTC","unfollowTC","style","display","alignItems","justifyContent","height","Preloader","color","React","compose","setState","toggleIsFetching","toggleFollowingStatus"],"mappings":"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","file":"static/js/8.85018c62.chunk.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Navigate } from \"react-router-dom\";\n\nexport const withAuthRedirect = (Component) => {\n    const mapStateToProps = (state) => ({\n        userId: state.auth.id,\n    })\n\n    return connect(mapStateToProps)((props) => {\n        if (!props.userId) return <Navigate replace to=\"/../login\" />\n        return <Component {...props} />\n    })\n}\n\nexport const withBackAuthRedirect = (Component) => {\n    const mapStateToProps = (state) => ({\n        userId: state.auth.id,\n    })\n\n    return connect(mapStateToProps)((props) => {\n        if (props.userId) return <Navigate replace to=\"/../profile/me\" />\n        return <Component {...props} />\n    })\n}","export default \"data:image/jpeg;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__2Iv27\",\"usersWrapper\":\"Users_usersWrapper__2gv8N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorWrapper\":\"Paginator_paginatorWrapper__1iDbY\",\"span\":\"Paginator_span__3LfMv\",\"activePaginator\":\"Paginator_activePaginator__kJd1m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userCard\":\"UserCard_userCard__1LGWZ\",\"avatar\":\"UserCard_avatar__1hHBQ\",\"btn\":\"UserCard_btn__3xvqm\"};","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from \"react\";\nimport classes from './Paginator.module.css';\ntype PaginatorPropsType = {\n    totalCount :number,\n    pageSize :number,\n    currentPage :number,\n    getUsers: (currentPage: number) => void,\n}\n\nconst Paginator: React.FC<PaginatorPropsType> = ({\n    totalCount,\n    pageSize,\n    currentPage,\n    getUsers,\n}) => {\n    const pagesCount = Math.ceil(totalCount / pageSize);\n    const pageSpans = [];\n    let partOfPageSpans = [];\n    let size = 9\n    const start = currentPage < Math.ceil(size / 2)\n        ? 1\n        : currentPage + Math.floor(size / 2) > pagesCount\n            ? pagesCount - size + 1\n            : Math.ceil(currentPage - size / 2)\n    let end = start + size - 1;\n\n    for (let i = 1; i <= pagesCount; i++) {\n        pageSpans.push(i)\n        if (i >= start && i <= end) {\n            partOfPageSpans.push(i)\n        } \n    }\n\n    return (\n        <div className={classes.paginatorWrapper}>\n            <span onClick={() => {\n                getUsers(1)\n            }}>To start</span>\n            {(currentPage > 1) && <span onClick={() => {\n                getUsers(currentPage-1)\n            }}>Back</span>}\n            {partOfPageSpans.map(span => (\n                <span\n                    onClick={() => {\n                        getUsers(span)\n                    }}\n                    className={span === currentPage\n                        ? classes.activePaginator + ' ' + classes.span\n                        : classes.span}\n                    key={span}\n                >\n                    {span}\n                </span>\n            ))}\n           {currentPage < pagesCount && <span onClick={()=>{\n                getUsers(currentPage + 1)\n            }}>Forvard</span>}\n            <span onClick={() => {\n                getUsers(pagesCount)\n            }}>To end</span>\n        </div>\n    )\n}\n\nexport default Paginator;","import React from \"react\";\nimport classes from './UserCard.module.css';\nimport avatar from \"../../../assets/img/avatars/small_ava.jpg\"\nimport { Link } from \"react-router-dom\";\nimport { UserType } from \"../../../types/UsersTypes\";\n\nlet classNames = require('classnames');\n\ntype UserCardPropsType = {\n    user: UserType,\n    follow: (user: UserType) => void,\n    unfollow: (user: UserType) => void,\n    haveFollowingInProgress: Array<number>,\n    startNewDialogFromUsersPage: (id: number) => Promise<void>,\n}\n\nconst UserCard: React.FC<UserCardPropsType> = ({\n    user,\n    haveFollowingInProgress,\n    unfollow,\n    follow,\n    startNewDialogFromUsersPage,\n}) => {\n\n    return (\n        <li className={classes.userCard} key={user.id}>\n            <Link to={`../profile/${user.id}`}>\n                <img\n                    src={user.photos.small || avatar}\n                    className={classes.avatar}\n                    alt=\"User\"\n                />\n            </Link>\n            {user.followed\n                ?\n                <button\n                    disabled={haveFollowingInProgress.some((id: number): boolean => id === user.id)}\n                    className={classes.btn}\n                    onClick={() => {\n                        console.log(haveFollowingInProgress)\n                        unfollow(user)\n                        console.log(haveFollowingInProgress)\n                    }}\n                >\n                    UNFOLLOW\n                </button>\n                :\n                <button\n                    disabled={haveFollowingInProgress.some((id: number): boolean => id === user.id)}\n                    className={classes.btn}\n                    onClick={() => {\n                        follow(user)\n                    }}\n                >\n                    FOLLOW\n                </button>\n            }\n            <Link\n                to={`../dialogs/`}\n                className={classNames(classes.btn, classes.startDialogBtn)}\n                onClick={() => { startNewDialogFromUsersPage(user.id) }}\n            > START DIALOG </Link>\n            <h3>{user.name}</h3>\n            <p>{user.status}</p>\n        </li>\n    )\n}\n\nexport default UserCard;","import React from \"react\";\nimport classes from './Users.module.css';\nimport avatar from \"../../assets/img/avatars/small_ava.jpg\"\nimport { Link } from \"react-router-dom\";\nimport Paginator from \"../common/Paginator/Paginator\";\nimport { UserType } from \"../../types/UsersTypes\";\nimport UserCard from \"./UserCard/UserCard\";\n\ntype UsersPropsType = {\n    users: Array<UserType>,\n    follow: (user: UserType) => void,\n    unfollow: (user: UserType) => void,\n    totalCount: number,\n    pageSize: number,\n    currentPage: number,\n    getUsers: (currentPage: number) => Promise<void>,\n    haveFollowingInProgress: Array<number>,\n    startNewDialogFromUsersPage: (id:number)=>Promise<void>,\n}\n\nconst Users: React.FC<UsersPropsType> = ({\n    users,\n    follow,\n    unfollow,\n    totalCount,\n    pageSize,\n    currentPage,\n    getUsers,\n    haveFollowingInProgress,\n    startNewDialogFromUsersPage,\n}) => {\n\n    return (\n        <div className={classes.users}>\n            <Paginator\n                totalCount={totalCount}\n                pageSize={pageSize}\n                currentPage={currentPage}\n                getUsers={getUsers}\n            />\n            <ul className={classes.usersWrapper} >\n                {\n                    users.map((user: UserType) => (\n                        <UserCard\n                            key={user.id}\n                            user={user}\n                            follow={follow}\n                            unfollow={unfollow}\n                            haveFollowingInProgress={haveFollowingInProgress}\n                            startNewDialogFromUsersPage={startNewDialogFromUsersPage}\n                        />\n                    ))\n                }\n            </ul>\n            <Paginator\n                totalCount={totalCount}\n                pageSize={pageSize}\n                currentPage={currentPage}\n                getUsers={getUsers}\n            />\n        </div>\n    )\n}\n\nexport default Users;","// Cache implementation based on Erik Rasmussen's `lru-memoize`:\n// https://github.com/erikras/lru-memoize\nvar NOT_FOUND = 'NOT_FOUND';\n\nfunction createSingletonCache(equals) {\n  var entry;\n  return {\n    get: function get(key) {\n      if (entry && equals(entry.key, key)) {\n        return entry.value;\n      }\n\n      return NOT_FOUND;\n    },\n    put: function put(key, value) {\n      entry = {\n        key: key,\n        value: value\n      };\n    },\n    getEntries: function getEntries() {\n      return entry ? [entry] : [];\n    },\n    clear: function clear() {\n      entry = undefined;\n    }\n  };\n}\n\nfunction createLruCache(maxSize, equals) {\n  var entries = [];\n\n  function get(key) {\n    var cacheIndex = entries.findIndex(function (entry) {\n      return equals(key, entry.key);\n    }); // We found a cached entry\n\n    if (cacheIndex > -1) {\n      var entry = entries[cacheIndex]; // Cached entry not at top of cache, move it to the top\n\n      if (cacheIndex > 0) {\n        entries.splice(cacheIndex, 1);\n        entries.unshift(entry);\n      }\n\n      return entry.value;\n    } // No entry found in cache, return sentinel\n\n\n    return NOT_FOUND;\n  }\n\n  function put(key, value) {\n    if (get(key) === NOT_FOUND) {\n      // TODO Is unshift slow?\n      entries.unshift({\n        key: key,\n        value: value\n      });\n\n      if (entries.length > maxSize) {\n        entries.pop();\n      }\n    }\n  }\n\n  function getEntries() {\n    return entries;\n  }\n\n  function clear() {\n    entries = [];\n  }\n\n  return {\n    get: get,\n    put: put,\n    getEntries: getEntries,\n    clear: clear\n  };\n}\n\nexport var defaultEqualityCheck = function defaultEqualityCheck(a, b) {\n  return a === b;\n};\nexport function createCacheKeyComparator(equalityCheck) {\n  return function areArgumentsShallowlyEqual(prev, next) {\n    if (prev === null || next === null || prev.length !== next.length) {\n      return false;\n    } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n    var length = prev.length;\n\n    for (var i = 0; i < length; i++) {\n      if (!equalityCheck(prev[i], next[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n// defaultMemoize now supports a configurable cache size with LRU behavior,\n// and optional comparison of the result value with existing values\nexport function defaultMemoize(func, equalityCheckOrOptions) {\n  var providedOptions = typeof equalityCheckOrOptions === 'object' ? equalityCheckOrOptions : {\n    equalityCheck: equalityCheckOrOptions\n  };\n  var _providedOptions$equa = providedOptions.equalityCheck,\n      equalityCheck = _providedOptions$equa === void 0 ? defaultEqualityCheck : _providedOptions$equa,\n      _providedOptions$maxS = providedOptions.maxSize,\n      maxSize = _providedOptions$maxS === void 0 ? 1 : _providedOptions$maxS,\n      resultEqualityCheck = providedOptions.resultEqualityCheck;\n  var comparator = createCacheKeyComparator(equalityCheck);\n  var cache = maxSize === 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator); // we reference arguments instead of spreading them for performance reasons\n\n  function memoized() {\n    var value = cache.get(arguments);\n\n    if (value === NOT_FOUND) {\n      // @ts-ignore\n      value = func.apply(null, arguments);\n\n      if (resultEqualityCheck) {\n        var entries = cache.getEntries();\n        var matchingEntry = entries.find(function (entry) {\n          return resultEqualityCheck(entry.value, value);\n        });\n\n        if (matchingEntry) {\n          value = matchingEntry.value;\n        }\n      }\n\n      cache.put(arguments, value);\n    }\n\n    return value;\n  }\n\n  memoized.clearCache = function () {\n    return cache.clear();\n  };\n\n  return memoized;\n}","import { defaultMemoize, defaultEqualityCheck } from './defaultMemoize';\nexport { defaultMemoize, defaultEqualityCheck };\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep === 'function' ? \"function \" + (dep.name || 'unnamed') + \"()\" : typeof dep;\n    }).join(', ');\n    throw new Error(\"createSelector expects all input-selectors to be functions, but received the following types: [\" + dependencyTypes + \"]\");\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptionsFromArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptionsFromArgs[_key - 1] = arguments[_key];\n  }\n\n  var createSelector = function createSelector() {\n    for (var _len2 = arguments.length, funcs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var _recomputations = 0;\n\n    var _lastResult; // Due to the intricacies of rest params, we can't do an optional arg after `...funcs`.\n    // So, start by declaring the default value here.\n    // (And yes, the words 'memoize' and 'options' appear too many times in this next sequence.)\n\n\n    var directlyPassedOptions = {\n      memoizeOptions: undefined\n    }; // Normally, the result func or \"output selector\" is the last arg\n\n    var resultFunc = funcs.pop(); // If the result func is actually an _object_, assume it's our options object\n\n    if (typeof resultFunc === 'object') {\n      directlyPassedOptions = resultFunc; // and pop the real result func off\n\n      resultFunc = funcs.pop();\n    }\n\n    if (typeof resultFunc !== 'function') {\n      throw new Error(\"createSelector expects an output function after the inputs, but received: [\" + typeof resultFunc + \"]\");\n    } // Determine which set of options we're using. Prefer options passed directly,\n    // but fall back to options given to createSelectorCreator.\n\n\n    var _directlyPassedOption = directlyPassedOptions,\n        _directlyPassedOption2 = _directlyPassedOption.memoizeOptions,\n        memoizeOptions = _directlyPassedOption2 === void 0 ? memoizeOptionsFromArgs : _directlyPassedOption2; // Simplifying assumption: it's unlikely that the first options arg of the provided memoizer\n    // is an array. In most libs I've looked at, it's an equality function or options object.\n    // Based on that, if `memoizeOptions` _is_ an array, we assume it's a full\n    // user-provided array of options. Otherwise, it must be just the _first_ arg, and so\n    // we wrap it in an array so we can apply it.\n\n    var finalMemoizeOptions = Array.isArray(memoizeOptions) ? memoizeOptions : [memoizeOptions];\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(void 0, [function () {\n      _recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(finalMemoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        // @ts-ignore\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      _lastResult = memoizedResultFunc.apply(null, params);\n      return _lastResult;\n    });\n    Object.assign(selector, {\n      resultFunc: resultFunc,\n      memoizedResultFunc: memoizedResultFunc,\n      dependencies: dependencies,\n      lastResult: function lastResult() {\n        return _lastResult;\n      },\n      recomputations: function recomputations() {\n        return _recomputations;\n      },\n      resetRecomputations: function resetRecomputations() {\n        return _recomputations = 0;\n      }\n    });\n    return selector;\n  }; // @ts-ignore\n\n\n  return createSelector;\n}\nexport var createSelector = /* #__PURE__ */createSelectorCreator(defaultMemoize);\n// Manual definition of state and output arguments\nexport var createStructuredSelector = function createStructuredSelector(selectors, selectorCreator) {\n  if (selectorCreator === void 0) {\n    selectorCreator = createSelector;\n  }\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + (\"where each property is a selector, instead received a \" + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  var resultSelector = selectorCreator( // @ts-ignore\n  objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n  return resultSelector;\n};","import { createSelector } from 'reselect';\nimport { AppStateType } from './redux-store';\n\nexport const getUsersSelector = (state :AppStateType) => state.usersPage.users;\n\nexport const getUsersByReselectorSelector = createSelector(getUsersSelector, (users) => (\n    users.filter(() => true)\n));\n\n\nexport const getTotalUsersCountSelector = (state: AppStateType) => state.usersPage.totalCount\nexport const getPageSizeSelector = (state: AppStateType) => state.usersPage.pageSize\nexport const getCurrentPageSelector = (state: AppStateType) => state.usersPage.currentPage\nexport const getIsFetchingSelector = (state: AppStateType) => state.usersPage.isFetching\nexport const getHaveFollowingInProgressSelector = (state: AppStateType) => state.usersPage.haveFollowingInProgress","import { connect } from \"react-redux\";\nimport {\n    setState,\n    toggleIsFetching,\n    toggleFollowingStatus,\n    getUsers,\n} from \"../../Redux/users-reducer\";\nimport {\n    startNewDialogFromUsersPage,\n} from \"../../Redux/dialogs-reducer\";\nimport { followTC, unfollowTC } from \"../../Redux/users-reducer\";\nimport React from \"react\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport Users from \"./Users\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\nimport {\n    getCurrentPageSelector,\n    getHaveFollowingInProgressSelector,\n    getIsFetchingSelector,\n    getPageSizeSelector,\n    getTotalUsersCountSelector,\n    getUsersByReselectorSelector,\n} from \"../../Redux/users-selectors\";\nimport { AppStateType } from \"../../Redux/redux-store\";\nimport { UserType, SetCurrentPageType, ToggleFollowingStatusType } from \"../../types/UsersTypes\";\n\ntype UsersAPIContainerPropsType = {\n    users: Array<UserType>,\n    followTC: (user: UserType) => Promise<void>,\n    unfollowTC: (user: UserType) => Promise<void>,\n    totalCount: number,\n    pageSize: number,\n    currentPage: number,\n    isFetching: boolean,\n    haveFollowingInProgress: Array<number>,\n    toggleFollowingStatus: (id: number) => ToggleFollowingStatusType,\n    getUsers: (currentPage: number) => Promise<void>,\n    isAuthorised: boolean,\n    setCurrentPage: (page: number)=> SetCurrentPageType,\n    startNewDialogFromUsersPage: (id:number)=>Promise<void>\n}\n\ntype PropsFromStateType = {\n    users: Array<UserType>,\n    totalCount: number,\n    pageSize: number,\n    currentPage: number,\n    isFetching: boolean,\n    haveFollowingInProgress: Array<number>,\n}\n\nclass UsersAPIComponent extends React.Component<UsersAPIContainerPropsType> {\n    componentDidMount() {\n        this.props.getUsers(1)\n\n    }\n    render() {\n        const {\n            users,\n            followTC,\n            unfollowTC,\n            totalCount,\n            pageSize,\n            currentPage,\n            isFetching,\n            haveFollowingInProgress,\n            getUsers,\n            startNewDialogFromUsersPage,\n        } = this.props;\n\n        return (isFetching\n            ? <div style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                height: '90vh'\n            }}>\n                <Preloader size=\"350\" color=\"#fff\"/>\n            </div>\n            : <Users\n                users={users}\n                follow={followTC}\n                unfollow={unfollowTC}\n                totalCount={totalCount}\n                pageSize={pageSize}\n                currentPage={currentPage}\n                getUsers={getUsers}\n                haveFollowingInProgress={haveFollowingInProgress}\n                startNewDialogFromUsersPage={startNewDialogFromUsersPage}\n            />\n        )\n    }\n}\n\nconst mapStateToProps = (state :AppStateType) :PropsFromStateType => ({\n    users: getUsersByReselectorSelector(state),\n    totalCount: getTotalUsersCountSelector(state),\n    pageSize: getPageSizeSelector(state),\n    currentPage: getCurrentPageSelector(state),\n    isFetching: getIsFetchingSelector(state),\n    haveFollowingInProgress: getHaveFollowingInProgressSelector(state),\n})\n\nexport default compose(\n    connect(mapStateToProps, {\n        followTC,\n        unfollowTC,\n        setState,\n        toggleIsFetching,\n        toggleFollowingStatus,\n        getUsers,\n        startNewDialogFromUsersPage,\n    }),\n    withAuthRedirect)(UsersAPIComponent)"],"sourceRoot":""}